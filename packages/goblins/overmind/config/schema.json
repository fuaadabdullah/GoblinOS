{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Overmind Configuration Schema",
  "description": "Configuration schema for the Overmind goblin",
  "type": "object",
  "properties": {
    "providers": {
      "type": "object",
      "properties": {
        "ollama": {
          "type": "object",
          "properties": {
            "enabled": { "type": "boolean" },
            "endpoint": { "type": "string", "format": "uri" },
            "defaultModel": { "type": "string" },
            "timeout": { "type": "number", "minimum": 1000 }
          },
          "required": ["enabled"]
        },
        "openai": {
          "type": "object",
          "properties": {
            "enabled": { "type": "boolean" },
            "model": { "type": "string" },
            "temperature": { "type": "number", "minimum": 0, "maximum": 2 },
            "maxTokens": { "type": "number", "minimum": 1 }
          },
          "required": ["enabled"]
        }
      }
    },
    "memory": {
      "type": "object",
      "properties": {
        "type": { "type": "string", "enum": ["sqlite", "postgres", "memory"] },
        "maxMessages": { "type": "number", "minimum": 1 },
        "vectorSearch": {
          "type": "object",
          "properties": {
            "enabled": { "type": "boolean" },
            "dimensions": { "type": "number", "minimum": 1 }
          }
        }
      },
      "required": ["type"]
    },
    "routing": {
      "type": "object",
      "properties": {
        "defaultProvider": { "type": "string" },
        "fallbackEnabled": { "type": "boolean" },
        "metricsEnabled": { "type": "boolean" }
      }
    },
    "logging": {
      "type": "object",
      "properties": {
        "level": { "type": "string", "enum": ["debug", "info", "warn", "error"] },
        "structured": { "type": "boolean" }
      }
    }
  },
  "required": ["providers", "memory", "routing"]
}
